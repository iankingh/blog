---
title: "IP"
date: 2020-10-06T22:18:37+08:00
draft: true
categories:
 - "xx"
tags:
 - "xxx"
 - "xxx"
toc: true
---

# 筆記
<!--more-->



私有網路 IP 範圍

| RFC1918 規定區塊名 |          IP位址區段           |   IP數量   | [分類網路](https://zh.wikipedia.org/wiki/分类网络) 說明 | 最大[CIDR](https://zh.wikipedia.org/wiki/无类别域间路由)區塊 （[子網路遮罩](https://zh.wikipedia.org/wiki/子网#网络掩码)） | 主機端位長 |
| :----------------: | :---------------------------: | :--------: | :-----------------------------------------------------: | :----------------------------------------------------------: | :--------: |
|     24位元區塊     |   10.0.0.0 – 10.255.255.255   | 16,777,216 |                       單個A類網路                       |                    10.0.0.0/8 (255.0.0.0)                    |   24位元   |
|      20位區塊      |  172.16.0.0 – 172.31.255.255  | 1,048,576  |                     16個連續B類網路                     |                 172.16.0.0/12 (255.240.0.0)                  |    20位    |
|     16位元區塊     | 192.168.0.0 – 192.168.255.255 |   65,536   |                    256個連續C類網路                     |                 192.168.0.0/16 (255.255.0.0)                 |   16位元   |

正是由於這些限制，當我們使用這些私有位址來設定網路的時候，就無需擔心會和其它也使用相同位址的網路衝突。而這些無需註冊就能自由使用的 IP ，我們稱之為 **私有 IP( Private IP )**。當我們架設 IP 網路的時候，私有 IP 給與我們很大的方便。比方說：您目前的公司還沒有連上Internet，且也沒有或得公共 IP 的註冊。倘若使用公共 IP 的話，等到以後真正要連上網路的時候，就很可能和別人衝突了。其壞處是：由於您的 IP 不是合法授權使用的，別人跟本連不進來，而且，與您衝突的 IP 您卻永遠沒法連上去(若對方是您的最大客戶可就慘了)。若是那時候再重新規劃 IP 的話，將是件非常頭痛的問題！



解決的辦法是：我們可以先利用私有位址來架設網路，等到真要連上 intetnet 的時候，我們可以使用代理伺服器( proxy )或 IP 轉換( NAT --- Network Addresss Translation) 等技術，配合新註冊的 IP 就可以了。

由於私有位址在 Internet 上是不能路由的，用來架設企業內部網路，在安全上面也是有所幫助的。



```
路由器 
兩個不同的網域是無法透過廣播來資料的傳遞，此時便需要 IP 的路徑選擇 (routing) 功能，才能決定要透過哪個網路來傳送封包，
路由器乃是決定最佳路徑的方式，如果沒有路由器的話，就無法在不同網域之間傳送資料了。
例如，192.168.0.0 與 192.168.1.0 是不同網域，所以主機 A 與主機 B 是不能直接互通資料，必須有路由器找尋需要經過哪些網路才能到達 B 網域的主機 B。
1. 查詢 IP 封包的目標 IP 位址：
   當主機 A 有 IP 封包需要傳送時，主機會查閱 IP 封包表頭的目標 IP 位址； 
2. 查詢主機所在的網域：
   當主機 A 發現目標 IP 與本機 IP 的 Net_ID 相同時 (同一網域)，則主機 A 會直接透過區域網路功能，將資料直接傳送給目的地主機； 
3. 送出封包至路由器：
   在本例中，主機 A 與主機 B 並非同一網域，因此主機 A 直接將該 IP 封包送到路由器上，路由器接收到這個封包後，會分析路由資料表當中與目的地網路之間的距離、
   下一個負責中繼的路由器、與路由器互相連接的來源端 Port，然後繼續傳輸到正確的目標主機 B。如下圖所示： 
```

參考

http://dns-learning.twnic.net.tw/internet/intro7.html

https://www.netadmin.com.tw/netadmin/zh-tw/technology/EFA52337DD5D4026BB9E594A3B71EC5B

https://zh.wikipedia.org/wiki/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C

http://kevin.hwai.edu.tw/~kevin/material/EAssistant/IP_Class.htm